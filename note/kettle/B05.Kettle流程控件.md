
### Kettle流程控件

- 流程主要用来控制数据流程和数据流向

####  switch case

- switch/case组件让数据流从一路到多路。

  | switch case                                                  |
        | ------------------------------------------------------------ |
  | <img src="assets/1569750489382.png" align="left" style="border:1px solid #999" /> |







需求：

- 从 user.json 输入读取数据，按sex进行数据分类，把女性、男性、保密分别保存不同的Excel文件里面。
    - 0表示男性
    - 1表示女性
    - 2表示保密

实现步骤：

1、拖入 JSON输入组件，switch/case组件，三个Excel输出组件

| 组件配置图                                               |
| -------------------------------------------------------- |
| ![1570429015330](assets/1570429015330-1570494615088.png) |



2、配置 switch/case 组件

| 配置 switch/case 组件                                    |
| -------------------------------------------------------- |
| ![1570429033924](assets/1570429033924-1570494615088.png) |





#### 过滤记录

过滤记录让数据流从一路到两路。

| 过滤记录                                                     |
| ------------------------------------------------------------ |
| <img src="assets/1569750782651.png" align="left" style="border:1px solid #999"> |





需求：

- 从 user.json 读取数据，分离出 年龄 大于等于25，小于25的数据，分别保存到不同的Excel文件



实现步骤：

1、拖入 JSON输入组件、过滤记录组件、两个Excel组件，并连接各个组件

| 组件配置图                                               |
| -------------------------------------------------------- |
| ![1570345185863](assets/1570345185863-1570494615067.png) |



2、配置过滤记录组件

| 配置过滤组件                                        |
| --------------------------------------------------- |
| <img src="assets/1570345267807.png" align="left" /> |

