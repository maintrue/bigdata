# 1 表输出

## 1.1 添加
* 表输出就是把数据写入指定的表

需求：

- 从 `资料\kettle测试数据\用户数据源\user.json`中读取id, name, age字段的数据，
- 装载到mysql数据库的 t_user_1 表中

操作步骤：

1、拖动 输入/JSON Input组件 ，输出/表输出，连接两个组件

2、JSON输入配置

3、表输出配置

具体操作：

1、拖动 输入/JSON Input组件 ，输出/表输出，连接两个组件

| 组件配置图                                 |
| ------------------------------------------ |
| ![1570413615502](assets/1570413615502.png) |



2、JSON输入配置

| json输入配置图                             |
| ------------------------------------------ |
| ![1570413600128](assets/1570413600128.png) |



3、表输出配置

| 表输出配置                                 |
| ------------------------------------------ |
| ![1570413710722](assets/1570413710722.png) |

ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC

## 1.2 插入更新

* 插入更新就是把数据库已经存在的记录与数据流里面的记录进行比对
    * 如果不同就进行更新
    * 如果记录不存在，则会插入数据

需求：

- 从`资料\kettle测试数据\user_new.json` 中读数据，并插入或更新到mysql数据库的 t_user_1 表中

操作步骤：

1、拖入一个 输入/JSON输入组件，一个 输出/插入更新组件、连接两个组件

2、配置 JSON输入组件

3、配置 插入更新 组件

4、启动执行

具体实现：

1、拖入一个 输入/JSON输入组件，一个 输出/插入更新组件、连接两个组件

| 组件配置图                                 |
| ------------------------------------------ |
| ![1570415012710](assets/1570415012710.png) |



2、配置 JSON输入组件

| json输入组件                               |
| ------------------------------------------ |
| ![1570415026854](assets/1570415026854.png) |



3、配置 插入更新 组件

| 插入更新组件                               |
| ------------------------------------------ |
| ![1570415064377](assets/1570415064377.png) |



4、启动执行




## 1.1 删除

需求：

- 从mysql数据库 t_user_1 表中删除指定id为 492456198712198000 的数据

操作步骤：

1、拖入一个 输入/自定义常量数据、输出/删除 组件

2、连接两个组件

| 组件图                                              |
| --------------------------------------------------- |
| <img src="assets/1569672397419.png" align="left" /> |



3、配置自定义常量数据组件

| 自定义常量组件                             |
| ------------------------------------------ |
| ![1569672439446](assets/1569672439446.png) |





4、配置删除组件

| 配置删除组件                                      |
| ------------------------------------------------- |
| <img src="assets/1569672509885.png" align="left"> |

